{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import\"./HorizontalProduct.scss\";import{addCart,getAllCartsByIdUser}from\"../../../services/cartService\";import*as actions from\"../../../store/actions\";import{Link}from\"react-router-dom\";import{FormattedMessage}from\"react-intl\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HorizontalProduct=/*#__PURE__*/function(_Component){_inherits(HorizontalProduct,_Component);var _super=_createSuper(HorizontalProduct);function HorizontalProduct(props){var _this;_classCallCheck(this,HorizontalProduct);_this=_super.call(this,props);_this.handleAddToCart=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var product,res,resCart;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.props.user.isLoggedIn){_context.next=3;break;}_this.props.history.push(\"/login\");return _context.abrupt(\"return\");case 3:product=_this.props.product;_context.next=6;return addCart(_this.props.user.userInfo.id,product.id,1);case 6:res=_context.sent;if(!(res.errCode===0)){_context.next=14;break;}_context.next=10;return getAllCartsByIdUser(_this.props.user.userInfo.id);case 10:resCart=_context.sent;_this.props.addCartSuccess(resCart.data);_context.next=15;break;case 14:alert(\"Add to cart failed\");case 15:case\"end\":return _context.stop();}}},_callee);}));_this.state={};return _this;}_createClass(HorizontalProduct,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;var product=this.props.product;return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 rounded bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"img\",{src:product.Images[0].img,className:\"img-fluid rounded-circle w-100\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"div\",{style:{height:\"42px\"},children:/*#__PURE__*/_jsx(Link,{to:\"/product-detail/\".concat(product.id),className:\"h5\",children:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex my-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-star text-primary\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-star text-primary\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-star text-primary\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-star text-primary\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-star\"})]}),/*#__PURE__*/_jsxs(\"h4\",{className:\"mb-3\",children:[product.price,/*#__PURE__*/_jsx(\"span\",{children:\"vn\\u0111\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this2.handleAddToCart();},className:\"btn border border-secondary rounded-pill px-3 text-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-shopping-bag me-2 text-primary\"}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"text.add_cart\"})]})]})]})});}}]);return HorizontalProduct;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addCartSuccess:function addCartSuccess(carts){dispatch(actions.addCartSuccess(carts));}};};export default connect(mapStateToProps,mapDispatchToProps)(HorizontalProduct);","map":{"version":3,"sources":["D:/Documents/Frontend-React.JS/src/components/ComponentsHome/HorizontalProduct/HorizontalProduct.js"],"names":["React","Component","connect","addCart","getAllCartsByIdUser","actions","Link","FormattedMessage","HorizontalProduct","props","handleAddToCart","user","isLoggedIn","history","push","product","userInfo","id","res","errCode","resCart","addCartSuccess","data","alert","state","Images","img","height","name","price","mapStateToProps","mapDispatchToProps","dispatch","carts"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./HorizontalProduct.scss\";\r\nimport { addCart, getAllCartsByIdUser } from \"../../../services/cartService\";\r\nimport * as actions from \"../../../store/actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nclass HorizontalProduct extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  handleAddToCart = async () => {\r\n    if (!this.props.user.isLoggedIn) {\r\n      this.props.history.push(\"/login\");\r\n      return;\r\n    }\r\n\r\n    const { product } = this.props;\r\n    const res = await addCart(this.props.user.userInfo.id, product.id, 1);\r\n    if (res.errCode === 0) {\r\n      const resCart = await getAllCartsByIdUser(this.props.user.userInfo.id);\r\n      this.props.addCartSuccess(resCart.data);\r\n    } else {\r\n      alert(\"Add to cart failed\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const product = this.props.product;\r\n    return (\r\n      <div className=\"p-4 rounded bg-light\">\r\n        <div className=\"row align-items-center\">\r\n          <div className=\"col-6\">\r\n            <img\r\n              src={product.Images[0].img}\r\n              className=\"img-fluid rounded-circle w-100\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <div style={{ height: \"42px\" }}>\r\n              <Link to={`/product-detail/${product.id}`} className=\"h5\">\r\n                {product.name}\r\n              </Link>\r\n            </div>\r\n            <div className=\"d-flex my-3\">\r\n              <i className=\"fas fa-star text-primary\" />\r\n              <i className=\"fas fa-star text-primary\" />\r\n              <i className=\"fas fa-star text-primary\" />\r\n              <i className=\"fas fa-star text-primary\" />\r\n              <i className=\"fas fa-star\" />\r\n            </div>\r\n            <h4 className=\"mb-3\">\r\n              {product.price}\r\n              <span>vnÄ‘</span>\r\n            </h4>\r\n            <div\r\n              onClick={() => this.handleAddToCart()}\r\n              className=\"btn border border-secondary rounded-pill px-3 text-primary\"\r\n            >\r\n              <i className=\"fa fa-shopping-bag me-2 text-primary\" />\r\n              <FormattedMessage id=\"text.add_cart\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addCartSuccess: (carts) => {\r\n      dispatch(actions.addCartSuccess(carts));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HorizontalProduct);\r\n"]},"metadata":{},"sourceType":"module"}