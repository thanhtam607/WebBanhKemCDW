{"ast":null,"code":"import _slicedToArray from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,useEffect,useState,useRef}from\"react\";import{connect}from\"react-redux\";import Product from\"../../../components/Product/Product\";import{getListProducts,getPageCount}from\"../../../services/productService\";// import ReactPaginate from \"react-paginate\";\nimport ReactPaginate from\"react-paginate\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListProduct=/*#__PURE__*/function(_Component){_inherits(ListProduct,_Component);var _super=_createSuper(ListProduct);function ListProduct(props){var _this;_classCallCheck(this,ListProduct);_this=_super.call(this,props);_this.state={listProducts:[]};return _this;}_createClass(ListProduct,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getListProducts();case 2:response=_context.sent;if(response&&response.errCode===0){this.setState({listProducts:response.listProducts});}case 4:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-9\",children:/*#__PURE__*/_jsx(PaginatedItems,{items:this.state.listProducts,itemsPerPage:12})});}}]);return ListProduct;}(Component);function Items(_ref){var currentItems=_ref.currentItems;return/*#__PURE__*/_jsx(_Fragment,{children:currentItems&&currentItems.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-6 col-xl-4 \",children:/*#__PURE__*/_jsx(Product,{product:item},item.id)});})});}function PaginatedItems(_ref2){var itemsPerPage=_ref2.itemsPerPage,items=_ref2.items;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),itemOffset=_useState2[0],setItemOffset=_useState2[1];var endOffset=itemOffset+itemsPerPage;console.log(\"Loading items from \".concat(itemOffset,\" to \").concat(endOffset));var currentItems=items.slice(itemOffset,endOffset);var pageCount=Math.ceil(items.length/itemsPerPage);var handlePageClick=function handlePageClick(event){var newOffset=event.selected*itemsPerPage%items.length;console.log(\"User requested page number \".concat(event.selected,\", which is offset \").concat(newOffset));setItemOffset(newOffset);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4 justify-content-center\",children:[/*#__PURE__*/_jsx(Items,{currentItems:currentItems}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pagination d-flex justify-content-center mt-5\",children:/*#__PURE__*/_jsx(ReactPaginate,{nextLabel:\">>\",onPageChange:handlePageClick,pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:pageCount,previousLabel:\"<<\",pageClassName:\"page-item\",pageLinkClassName:\"page-link\",previousClassName:\"page-item\",previousLinkClassName:\"page-link\",nextClassName:\"page-item\",nextLinkClassName:\"page-link\",breakLabel:\"...\",breakClassName:\"page-item\",breakLinkClassName:\"page-link\",containerClassName:\"pagination\",activeClassName:\"active\",renderOnZeroPageCount:null})})})]})});}var mapStateToProps=function mapStateToProps(state){return{};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{};};export default connect(mapStateToProps,mapDispatchToProps)(ListProduct);","map":{"version":3,"sources":["D:/Documents/Frontend-React.JS/src/containers/User/Shop/listProducts.js"],"names":["React","Component","useEffect","useState","useRef","connect","Product","getListProducts","getPageCount","ReactPaginate","ListProduct","props","state","listProducts","response","errCode","setState","Items","currentItems","map","item","id","PaginatedItems","itemsPerPage","items","itemOffset","setItemOffset","endOffset","console","log","slice","pageCount","Math","ceil","length","handlePageClick","event","newOffset","selected","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport Product from \"../../../components/Product/Product\";\nimport {\n  getListProducts,\n  getPageCount,\n} from \"../../../services/productService\";\n// import ReactPaginate from \"react-paginate\";\nimport ReactPaginate from \"react-paginate\";\n\nclass ListProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listProducts: [],\n    };\n  }\n\n  async componentDidMount() {\n    let response = await getListProducts();\n    if (response && response.errCode === 0) {\n      this.setState({\n        listProducts: response.listProducts,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"col-lg-9\">\n        <PaginatedItems items={this.state.listProducts} itemsPerPage={12} />\n      </div>\n    );\n  }\n}\n\nfunction Items({ currentItems }) {\n  return (\n    <>\n      {currentItems &&\n        currentItems.map((item) => (\n          <div className=\"col-md-6 col-lg-6 col-xl-4 \">\n            <Product key={item.id} product={item} />\n          </div>\n        ))}\n    </>\n  );\n}\n\nfunction PaginatedItems({ itemsPerPage, items }) {\n  const [itemOffset, setItemOffset] = useState(0);\n  const endOffset = itemOffset + itemsPerPage;\n  console.log(`Loading items from ${itemOffset} to ${endOffset}`);\n  const currentItems = items.slice(itemOffset, endOffset);\n  const pageCount = Math.ceil(items.length / itemsPerPage);\n\n  const handlePageClick = (event) => {\n    const newOffset = (event.selected * itemsPerPage) % items.length;\n    console.log(\n      `User requested page number ${event.selected}, which is offset ${newOffset}`\n    );\n    setItemOffset(newOffset);\n  };\n\n  return (\n    <>\n      <div className=\"row g-4 justify-content-center\">\n        <Items currentItems={currentItems} />\n        <div className=\"col-12\">\n          <div className=\"pagination d-flex justify-content-center mt-5\">\n            <ReactPaginate\n              nextLabel=\">>\"\n              onPageChange={handlePageClick}\n              pageRangeDisplayed={3}\n              marginPagesDisplayed={2}\n              pageCount={pageCount}\n              previousLabel=\"<<\"\n              pageClassName=\"page-item\"\n              pageLinkClassName=\"page-link\"\n              previousClassName=\"page-item\"\n              previousLinkClassName=\"page-link\"\n              nextClassName=\"page-item\"\n              nextLinkClassName=\"page-link\"\n              breakLabel=\"...\"\n              breakClassName=\"page-item\"\n              breakLinkClassName=\"page-link\"\n              containerClassName=\"pagination\"\n              activeClassName=\"active\"\n              renderOnZeroPageCount={null}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ListProduct);\n"]},"metadata":{},"sourceType":"module"}