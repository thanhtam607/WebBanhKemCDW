{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import OrderDetail from\"./OrderDetail\";import Swal from'sweetalert2';import{updateStatusBill}from\"../../services/billService\";import StatusBill from\"./StatusBill\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Order=/*#__PURE__*/function(_Component){_inherits(Order,_Component);var _super=_createSuper(Order);function Order(props){var _this;_classCallCheck(this,Order);_this=_super.call(this,props);_this.formatDate=function(isoString){var date=new Date(isoString);var day=String(date.getDate()).padStart(2,'0');var month=String(date.getMonth()+1).padStart(2,'0');// Tháng tính từ 0\nvar year=date.getFullYear();return\"\".concat(day,\"/\").concat(month,\"/\").concat(year);};_this.handleCancelOrder=function(id){Swal.fire({title:\"Bạn có chắc chắn muốn hủy đơn hàng?\",icon:\"question\",confirmButtonText:\"OK\",cancelButtonText:\"Thoát\",showCancelButton:true,showConfirmButton:true}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(result){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!result.isConfirmed){_context.next=5;break;}_context.next=3;return updateStatusBill(id,2);case 3:res=_context.sent;if(res.errCode===0){_this.setState({status:2});Swal.fire({title:\"Hủy đơn hàng thành công\",icon:\"success\"});}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};_this.state={status:_this.props.order.status};return _this;}_createClass(Order,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;var order=this.props.order;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"my-2 center overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-secondary d-inline-block pt-3 pl-3\",children:\"Ng\\xE0y \\u0111\\u1EB7t h\\xE0ng: \"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-secondary d-inline-block pt-3 \",style:{padding:0,margin:0},children:this.formatDate(order.createdAt)})]}),/*#__PURE__*/_jsx(StatusBill,{status:this.state.status})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card border-left-0 border-right-0 border-bottom-0 mx-3\",children:order.billDetailData.map(function(item){return/*#__PURE__*/_jsx(OrderDetail,{orderDetail:item});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-2 flex-row-reverse\",style:{marginTop:\"6px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 my-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-right pr-5\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"d-inline text-dark\",children:\"T\\u1ED5ng ti\\u1EC1n h\\xE0ng: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-inline\",style:{fontWeight:400},children:[order.pro_bill,\" VND\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 my-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-right pr-5\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"d-inline text-dark\",children:\"Ph\\xED v\\u1EADn chuy\\u1EC3n: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-inline\",style:{fontWeight:400},children:[order.fee_bill,\" VND\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-2 mt-2\",style:{marginTop:\"0px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6 pt-2 pb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-left mr-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return _this2.handleCancelOrder(order.id);},className:\"btn text-dark btn-cancel-order\",children:\"H\\u1EE7y \\u0111\\u01A1n h\\xE0ng\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 my-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-right pr-5\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"d-inline text-dark\",children:\"T\\u1ED5ng thanh to\\xE1n: \"}),/*#__PURE__*/_jsx(\"h3\",{className:\"d-inline\",style:{color:\"#ee4d2d\"},children:order.pro_bill})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body my-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-text text-dark border-bottom pb-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\" text-dark\",children:[\"GHI CH\\xDA CHUNG: \",order.notes]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-text text-dark pt-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\" text-dark text-uppercase\",children:[\"\\u0110\\u1ECAA CH\\u1EC8 GIAO H\\xC0NG: \",order.address]})})]})})]})});}}]);return Order;}(Component);var mapStateToProps=function mapStateToProps(state){return{};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{};};export default connect(mapStateToProps,mapDispatchToProps)(Order);","map":{"version":3,"sources":["D:/Documents/Frontend-React.JS/src/components/ComponentOrder/Order.js"],"names":["React","Component","connect","OrderDetail","Swal","updateStatusBill","StatusBill","Order","props","formatDate","isoString","date","Date","day","String","getDate","padStart","month","getMonth","year","getFullYear","handleCancelOrder","id","fire","title","icon","confirmButtonText","cancelButtonText","showCancelButton","showConfirmButton","then","result","isConfirmed","res","errCode","setState","status","state","order","padding","margin","createdAt","billDetailData","map","item","marginTop","fontWeight","pro_bill","fee_bill","color","notes","address","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport OrderDetail from \"./OrderDetail\";\nimport Swal from 'sweetalert2'\nimport {updateStatusBill} from \"../../services/billService\";\nimport StatusBill from \"./StatusBill\";\n\n\nclass Order extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            status: this.props.order.status\n        }\n    }\n    formatDate = (isoString) => {\n        const date = new Date(isoString);\n        const day = String(date.getDate()).padStart(2, '0');\n        const month = String(date.getMonth() + 1).padStart(2, '0'); // Tháng tính từ 0\n        const year = date.getFullYear();\n        return `${day}/${month}/${year}`;\n    };\n\n    handleCancelOrder= (id)=>{\n        Swal.fire({\n            title: \"Bạn có chắc chắn muốn hủy đơn hàng?\",\n            icon: \"question\",\n            confirmButtonText: \"OK\",\n            cancelButtonText: \"Thoát\",\n            showCancelButton: true,\n            showConfirmButton: true\n        }).then(async (result) => {\n\n            if (result.isConfirmed) {\n                const res = await updateStatusBill(id, 2);\n                if (res.errCode === 0) {\n                    this.setState({status: 2})\n                    Swal.fire({\n                        title: \"Hủy đơn hàng thành công\",\n                        icon: \"success\"\n                    });\n                }\n            }\n        })\n\n}\n\n    componentDidMount() {\n    }\n    render() {\n        const order = this.props.order;\n        return (\n            <>\n                <div className=\"my-2 center overflow-hidden\">\n                    <div className=\"row\">\n                        <div className=\"col-6\">\n                            <small className=\"text-secondary d-inline-block pt-3 pl-3\">Ngày đặt hàng: </small>\n                            <small className=\"text-secondary d-inline-block pt-3 \" style={{ padding: 0, margin: 0 }}\n                            >{this.formatDate(order.createdAt)}</small>\n                        </div>\n                       <StatusBill status={this.state.status}/>\n                    </div>\n                    <div className=\"card border-left-0 border-right-0 border-bottom-0 mx-3\">\n\n                        {order.billDetailData.map((item)=>(\n                            <OrderDetail  orderDetail={item}/>\n                            ))}\n\n\n\n\n                    </div>\n                    <div className=\"row mb-2 flex-row-reverse\" style={{ marginTop: \"6px\" }}>\n                        <div className=\"col-12 my-2\">\n                            <div className=\"text-right pr-5\">\n                                <h6 className=\"d-inline text-dark\">Tổng tiền hàng: </h6>\n                                <span className=\"d-inline\" style={{ fontWeight: 400 }}>{order.pro_bill} VND</span>\n                            </div>\n                        </div>\n                        <div className=\"col-12 my-2\">\n                            <div className=\"text-right pr-5\">\n                                <h6 className=\"d-inline text-dark\">Phí vận chuyển: </h6>\n                                <span className=\"d-inline\" style={{ fontWeight: 400 }}>{order.fee_bill} VND</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"row mb-2 mt-2\" style={{ marginTop: \"0px\" }}>\n                        <div className=\"col-6 pt-2 pb-3\">\n                            <div className=\"text-left mr-3\">\n                                <button type=\"button\" onClick={() => this.handleCancelOrder(order.id)} className=\"btn text-dark btn-cancel-order\">Hủy đơn hàng</button>\n\n                            </div>\n                        </div>\n                        <div className=\"col-6 my-2\">\n                            <div className=\"text-right pr-5\">\n                                <h6 className=\"d-inline text-dark\">Tổng thanh toán: </h6>\n                                <h3 className=\"d-inline\" style={{ color: \"#ee4d2d\" }}>{order.pro_bill}</h3>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-12 mb-2\">\n                        <div className=\"card-body my-0\">\n                            <div className=\"card-text text-dark border-bottom pb-2\">\n                                <span className=\" text-dark\">GHI CHÚ CHUNG: {order.notes}</span>\n                            </div>\n                            <div className=\"card-text text-dark pt-2\">\n                                <span className=\" text-dark text-uppercase\">ĐỊA CHỈ GIAO HÀNG: {order.address}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Order);\n"]},"metadata":{},"sourceType":"module"}