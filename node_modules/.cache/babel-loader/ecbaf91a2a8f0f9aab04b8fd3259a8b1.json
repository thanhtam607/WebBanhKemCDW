{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import\"./ProductDetail.scss\";import Header from\"../Header/Header\";import Footer from\"../Footer/Footer\";import{getProductById,getAllProductsByIdCategory}from\"../../../services/productService\";import{addCart,getAllCartsByIdUser}from\"../../../services/cartService\";import{getAllCategories}from\"../../../services/categorySerive\";import*as actions from\"../../../store/actions\";import Breadcrumb from\"../breadcrumb\";import{Link}from\"react-router-dom\";import{FormattedMessage}from\"react-intl\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductDetail=/*#__PURE__*/function(_Component){_inherits(ProductDetail,_Component);var _super=_createSuper(ProductDetail);function ProductDetail(props){var _this;_classCallCheck(this,ProductDetail);_this=_super.call(this,props);_this.handleAddToCart=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var product,res,resCart;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.props.user.isLoggedIn){_context.next=3;break;}_this.props.history.push(\"/login\");return _context.abrupt(\"return\");case 3:product=_this.state.product;_context.next=6;return addCart(_this.props.user.userInfo.id,product.id,_this.state.quantity);case 6:res=_context.sent;if(!(res.errCode===0)){_context.next=14;break;}_context.next=10;return getAllCartsByIdUser(_this.props.user.userInfo.id);case 10:resCart=_context.sent;_this.props.addCartSuccess(resCart.data);_context.next=15;break;case 14:alert(\"Add to cart failed\");case 15:case\"end\":return _context.stop();}}},_callee);}));_this.handleChangeQuantity=function(quantity){if(quantity>0){_this.setState({quantity:quantity});}};_this.state={product:{},categories:[],// Thêm mảng category\nlistProduct:[],quantity:1};return _this;}_createClass(ProductDetail,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var id,response,responsecategories,responseListProduct;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;id=this.props.match.params.id;_context2.next=4;return getProductById(id);case 4:response=_context2.sent;if(response&&response.errCode===0){if(response.product===null){this.props.history.push(\"/error\");}else this.setState({product:response.product});}// Lấy danh sách category\n_context2.next=8;return getAllCategories();case 8:responsecategories=_context2.sent;if(responsecategories&&responsecategories.errCode===0){this.setState({categories:responsecategories.data});}// Lấy danh sách sản phẩm liên quan\n_context2.next=12;return getAllProductsByIdCategory(this.state.product.category.id);case 12:responseListProduct=_context2.sent;if(responseListProduct&&responseListProduct.errCode===0){this.setState({listProduct:responseListProduct.data});}_context2.next=19;break;case 16:_context2.prev=16;_context2.t0=_context2[\"catch\"](0);console.error(\"Error fetching data:\",_context2.t0);case 19:case\"end\":return _context2.stop();}}},_callee2,this,[[0,16]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var p=this.state.product;console.log(\"user\",this.props.user);var breadcrumbItems=[{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"page.home\"}),link:\"/\",active:false},{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"page.product\"}),link:\"/shop\",active:false},{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"page.product_detail\"}),link:\"/product-detail\",active:true}];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{pageActive:\"Sản phẩm\",children:\" \"}),/*#__PURE__*/_jsx(Breadcrumb,{items:breadcrumbItems}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-5 mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4 mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 col-xl-9\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product__details__pic\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product__details__pic__item\",children:p.Images&&p.Images.length>0&&/*#__PURE__*/ // Kiểm tra nếu mảng tồn tại và không rỗng\n_jsx(\"img\",{className:\"product__details__pic__item--large\",src:\"../\"+p.Images[0].img,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"product__details__pic__slider owl-carousel\",children:p.Images&&p.Images.map(function(image,index){return/*#__PURE__*/_jsx(\"img\",{\"data-imgbigurl\":\"../\"+image.img,src:\"../\"+image.img,alt:\"\"},index);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"fw-bold mb-3\",children:p.name}),p.category&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(FormattedMessage,{id:\"product_detail.category\"}),\":\",\" \",p.category.name]}),/*#__PURE__*/_jsxs(\"h5\",{className:\"fw-bold mb-3\",children:[p.price,\" VND\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:p.introduction}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group quantity mb-5\",style:{width:\"100px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-btn\",children:/*#__PURE__*/_jsx(\"button\",{style:{height:\"32px\",width:\"32px\"},className:\"btn btn-sm btn-minus rounded-circle bg-light border\",onClick:function onClick(){return _this2.handleChangeQuantity(_this2.state.quantity-1);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-minus\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm text-center border-0\",value:this.state.quantity}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-btn\",children:/*#__PURE__*/_jsx(\"button\",{style:{height:\"32px\",width:\"32px\"},className:\"btn btn-sm btn-plus rounded-circle bg-light border\",onClick:function onClick(){return _this2.handleChangeQuantity(_this2.state.quantity+1);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this2.handleAddToCart();},className:\"btn border-secondary border rounded-pill rounded-pill-atc  px-4 py-2 mb-4 text-primary-cake\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-shopping-bag me-2 text-primary-cake\"}),\" \",/*#__PURE__*/_jsx(FormattedMessage,{id:\"product_detail.add_cart\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12\",children:[/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav nav-tabs mb-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"nav-link active border-white border-bottom-0\",type:\"button\",role:\"tab\",id:\"nav-about-tab\",\"data-bs-toggle\":\"tab\",\"data-bs-target\":\"#nav-about\",\"aria-controls\":\"nav-about\",\"aria-selected\":\"true\",children:\"M\\xF4 t\\u1EA3\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-link border-white border-bottom-0\",type:\"button\",role:\"tab\",id:\"nav-mission-tab\",\"data-bs-toggle\":\"tab\",\"data-bs-target\":\"#nav-mission\",\"aria-controls\":\"nav-mission\",\"aria-selected\":\"false\",children:\"\\u0110\\xE1nh gi\\xE1\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab-pane active\",id:\"nav-about\",role:\"tabpanel\",\"aria-labelledby\":\"nav-about-tab\",children:[/*#__PURE__*/_jsx(\"p\",{children:p.description}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row bg-light align-items-center text-center justify-content-center py-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Kh\\u1ED1i l\\u01B0\\u1EE3ng\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:p.weight})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row text-center align-items-center justify-content-center py-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"K\\xEDch th\\u01B0\\u1EDBc\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:p.size})})]})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-pane\",id:\"nav-mission\",role:\"tabpanel\",\"aria-labelledby\":\"nav-mission-tab\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"img/avatar.jpg\",className:\"img-fluid rounded-circle p-3\",style:{width:\"100px\",height:\"100px\"},alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:true,children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",style:{fontSize:\"14px\"},children:\"April 12, 2024\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Jason Smith\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"The generated Lorem Ipsum is therefore always free from repetition injected humour, or non-characteristic words etc. Susp endisse ultricies nisi vel quam suscipit\",\" \"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"img/avatar.jpg\",className:\"img-fluid rounded-circle p-3\",style:{width:\"100px\",height:\"100px\"},alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:true,children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",style:{fontSize:\"14px\"},children:\"April 12, 2024\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Sam Peters\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-pane\",id:\"nav-vision\",role:\"tabpanel\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-dark\",children:\"Tempor erat elitr rebum at clita. Diam dolor diam ipsum et tempor sit. Aliqu diam amet diam et eos labore. 3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Diam dolor diam ipsum et tempor sit. Aliqu diam amet diam et eos labore. Clita erat ipsum et lorem et sit\"})]})]})]}),/*#__PURE__*/_jsxs(\"form\",{action:\"#\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-5 fw-bold\",children:\"\\u0110\\xE1nh gi\\xE1 c\\u1EE7a b\\u1EA1n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border-bottom rounded\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control border-0 me-4\",placeholder:\"T\\xEAn c\\u1EE7a b\\u1EA1n *\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border-bottom rounded\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control border-0\",placeholder:\"Email *\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border-bottom rounded my-4\",children:/*#__PURE__*/_jsx(\"textarea\",{name:true,id:true,className:\"form-control border-0\",cols:30,rows:8,placeholder:\"\\u0110\\xE1nh gi\\xE1 c\\u1EE7a b\\u1EA1n *\",spellCheck:\"false\",defaultValue:\"\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between py-3 mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 me-3\",children:\"\\u0110\\xE1nh gi\\xE1:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",style:{fontSize:\"12px\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star text-muted\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"})]})]}),/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"btn border border-secondary text-primary rounded-pill px-4 \",children:[\" \",\"G\\u1EEDi \\u0111\\xE1nh gi\\xE1\"]})]})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 col-xl-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4 fruite\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group w-100 mx-auto d-flex mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"form-control p-3\",\"aria-describedby\":\"search-icon-1\"}),/*#__PURE__*/_jsx(\"span\",{id:\"search-icon-1\",className:\"input-group-text p-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-search\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"text.categories\"})}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled fruite-categorie\",children:this.state.categories&&this.state.categories.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between fruite-name\",children:/*#__PURE__*/_jsx(Link,{to:\"#\",children:item.name})})},index);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"text.outstanding_product\"})}),this.state.listProduct&&this.state.listProduct.slice(0,5).map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded\",style:{width:\"100px\",height:\"100px\"},children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"80px\",height:\"80px\"},src:\"../\"+item.Images[0].img,className:\"img-fluid rounded\",alt:\"Image\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/product-detail/\".concat(item.id),className:\"mb-2\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex mb-2\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"fw-bold me-2\",children:[item.price,\" \",/*#__PURE__*/_jsx(\"span\",{children:\"vn\\u0111\"})]})})]})]},index);})]})]})})]})})}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return ProductDetail;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addCartSuccess:function addCartSuccess(carts){dispatch(actions.addCartSuccess(carts));}};};export default connect(mapStateToProps,mapDispatchToProps)(ProductDetail);","map":{"version":3,"sources":["D:/Documents/Frontend-React.JS/src/containers/User/ProductDetail/ProductDetail.js"],"names":["React","Component","connect","Header","Footer","getProductById","getAllProductsByIdCategory","addCart","getAllCartsByIdUser","getAllCategories","actions","Breadcrumb","Link","FormattedMessage","ProductDetail","props","handleAddToCart","user","isLoggedIn","history","push","product","state","userInfo","id","quantity","res","errCode","resCart","addCartSuccess","data","alert","handleChangeQuantity","setState","categories","listProduct","match","params","response","responsecategories","category","responseListProduct","console","error","p","log","breadcrumbItems","title","link","active","Images","length","img","map","image","index","name","price","introduction","width","height","description","weight","size","fontSize","item","slice","mapStateToProps","mapDispatchToProps","dispatch","carts"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./ProductDetail.scss\";\r\nimport Header from \"../Header/Header\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport {\r\n  getProductById,\r\n  getAllProductsByIdCategory,\r\n} from \"../../../services/productService\";\r\nimport { addCart, getAllCartsByIdUser } from \"../../../services/cartService\";\r\nimport { getAllCategories } from \"../../../services/categorySerive\";\r\nimport * as actions from \"../../../store/actions\";\r\nimport Breadcrumb from \"../breadcrumb\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nclass ProductDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      product: {},\r\n      categories: [], // Thêm mảng category\r\n      listProduct: [],\r\n      quantity: 1,\r\n    };\r\n  }\r\n\r\n  handleAddToCart = async () => {\r\n    if (!this.props.user.isLoggedIn) {\r\n      this.props.history.push(\"/login\");\r\n      return;\r\n    }\r\n\r\n    const { product } = this.state;\r\n    const res = await addCart(\r\n      this.props.user.userInfo.id,\r\n      product.id,\r\n      this.state.quantity\r\n    );\r\n    if (res.errCode === 0) {\r\n      const resCart = await getAllCartsByIdUser(this.props.user.userInfo.id);\r\n      this.props.addCartSuccess(resCart.data);\r\n    } else {\r\n      alert(\"Add to cart failed\");\r\n    }\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const id = this.props.match.params.id;\r\n      let response = await getProductById(id);\r\n\r\n      if (response && response.errCode === 0) {\r\n        if (response.product === null) {\r\n          this.props.history.push(\"/error\");\r\n        } else\r\n          this.setState({\r\n            product: response.product,\r\n          });\r\n      }\r\n\r\n      // Lấy danh sách category\r\n      let responsecategories = await getAllCategories();\r\n      if (responsecategories && responsecategories.errCode === 0) {\r\n        this.setState({\r\n          categories: responsecategories.data,\r\n        });\r\n      }\r\n\r\n      // Lấy danh sách sản phẩm liên quan\r\n      let responseListProduct = await getAllProductsByIdCategory(\r\n        this.state.product.category.id\r\n      );\r\n      if (responseListProduct && responseListProduct.errCode === 0) {\r\n        this.setState({\r\n          listProduct: responseListProduct.data,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  }\r\n\r\n  handleChangeQuantity = (quantity) => {\r\n    if (quantity > 0) {\r\n      this.setState({\r\n        quantity: quantity,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const p = this.state.product;\r\n    console.log(\"user\", this.props.user);\r\n\r\n    const breadcrumbItems = [\r\n      { title: <FormattedMessage id=\"page.home\" />, link: \"/\", active: false },\r\n      {\r\n        title: <FormattedMessage id=\"page.product\" />,\r\n        link: \"/shop\",\r\n        active: false,\r\n      },\r\n      {\r\n        title: <FormattedMessage id=\"page.product_detail\" />,\r\n        link: \"/product-detail\",\r\n        active: true,\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Header pageActive={\"Sản phẩm\"}> </Header>\r\n        {/* Single Page Header start */}\r\n        <Breadcrumb items={breadcrumbItems} />\r\n        {/* Single Page Header End */}\r\n        {/* Single Product Start */}\r\n        <div className=\"container-fluid py-5 mt-5\">\r\n          <div className=\"container py-5\">\r\n            <div className=\"row g-4 mb-5\">\r\n              <div className=\"col-lg-8 col-xl-9\">\r\n                <div className=\"row g-4\">\r\n                  <div className=\"col-lg-6 col-md-6\">\r\n                    <div className=\"product__details__pic\">\r\n                      <div className=\"product__details__pic__item\">\r\n                        {p.Images &&\r\n                          p.Images.length > 0 && ( // Kiểm tra nếu mảng tồn tại và không rỗng\r\n                            <img\r\n                              className=\"product__details__pic__item--large\"\r\n                              src={\"../\" + p.Images[0].img}\r\n                              alt=\"\"\r\n                            />\r\n                          )}\r\n                      </div>\r\n                      <div className=\"product__details__pic__slider owl-carousel\">\r\n                        {p.Images &&\r\n                          p.Images.map((image, index) => (\r\n                            <img\r\n                              key={index}\r\n                              data-imgbigurl={\"../\" + image.img}\r\n                              src={\"../\" + image.img}\r\n                              alt=\"\"\r\n                            />\r\n                          ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-lg-6\">\r\n                    <h4 className=\"fw-bold mb-3\">{p.name}</h4>\r\n                    {p.category && (\r\n                      <p className=\"mb-3\">\r\n                        <FormattedMessage id=\"product_detail.category\" />:{\" \"}\r\n                        {p.category.name}\r\n                      </p>\r\n                    )}\r\n\r\n                    <h5 className=\"fw-bold mb-3\">{p.price} VND</h5>\r\n                    <div className=\"d-flex mb-4\">\r\n                      <i className=\"fa fa-star \" />\r\n                      <i className=\"fa fa-star \" />\r\n                      <i className=\"fa fa-star \" />\r\n                      <i className=\"fa fa-star \" />\r\n                      <i className=\"fa fa-star\" />\r\n                    </div>\r\n                    <p className=\"mb-4\">{p.introduction}</p>\r\n                    {/*<p className=\"mb-4\">Susp endisse ultricies nisi vel quam suscipit. Sabertooth peacock flounder; chain pickerel hatchetfish, pencilfish snailfish</p>*/}\r\n                    <div\r\n                      className=\"input-group quantity mb-5\"\r\n                      style={{ width: \"100px\" }}\r\n                    >\r\n                      <div className=\"input-group-btn\">\r\n                        <button\r\n                          style={{ height: \"32px\", width: \"32px\" }}\r\n                          className=\"btn btn-sm btn-minus rounded-circle bg-light border\"\r\n                          onClick={() =>\r\n                            this.handleChangeQuantity(this.state.quantity - 1)\r\n                          }\r\n                        >\r\n                          <i className=\"fa fa-minus\" />\r\n                        </button>\r\n                      </div>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control form-control-sm text-center border-0\"\r\n                        value={this.state.quantity}\r\n                      />\r\n                      <div className=\"input-group-btn\">\r\n                        <button\r\n                          style={{ height: \"32px\", width: \"32px\" }}\r\n                          className=\"btn btn-sm btn-plus rounded-circle bg-light border\"\r\n                          onClick={() =>\r\n                            this.handleChangeQuantity(this.state.quantity + 1)\r\n                          }\r\n                        >\r\n                          <i className=\"fa fa-plus\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      onClick={() => this.handleAddToCart()}\r\n                      className=\"btn border-secondary border rounded-pill rounded-pill-atc  px-4 py-2 mb-4 text-primary-cake\"\r\n                    >\r\n                      <i className=\"fa fa-shopping-bag me-2 text-primary-cake\" />{\" \"}\r\n                      <FormattedMessage id=\"product_detail.add_cart\" />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-lg-12\">\r\n                    <nav>\r\n                      <div className=\"nav nav-tabs mb-3\">\r\n                        <button\r\n                          className=\"nav-link active border-white border-bottom-0\"\r\n                          type=\"button\"\r\n                          role=\"tab\"\r\n                          id=\"nav-about-tab\"\r\n                          data-bs-toggle=\"tab\"\r\n                          data-bs-target=\"#nav-about\"\r\n                          aria-controls=\"nav-about\"\r\n                          aria-selected=\"true\"\r\n                        >\r\n                          Mô tả\r\n                        </button>\r\n                        <button\r\n                          className=\"nav-link border-white border-bottom-0\"\r\n                          type=\"button\"\r\n                          role=\"tab\"\r\n                          id=\"nav-mission-tab\"\r\n                          data-bs-toggle=\"tab\"\r\n                          data-bs-target=\"#nav-mission\"\r\n                          aria-controls=\"nav-mission\"\r\n                          aria-selected=\"false\"\r\n                        >\r\n                          Đánh giá\r\n                        </button>\r\n                      </div>\r\n                    </nav>\r\n                    <div className=\"tab-content mb-5\">\r\n                      <div\r\n                        className=\"tab-pane active\"\r\n                        id=\"nav-about\"\r\n                        role=\"tabpanel\"\r\n                        aria-labelledby=\"nav-about-tab\"\r\n                      >\r\n                        <p>{p.description}</p>\r\n                        <div className=\"px-2\">\r\n                          <div className=\"row g-4\">\r\n                            <div className=\"col-6\">\r\n                              <div className=\"row bg-light align-items-center text-center justify-content-center py-2\">\r\n                                <div className=\"col-6\">\r\n                                  <p className=\"mb-0\">Khối lượng</p>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                  <p className=\"mb-0\">{p.weight}</p>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"row text-center align-items-center justify-content-center py-2\">\r\n                                <div className=\"col-6\">\r\n                                  <p className=\"mb-0\">Kích thước</p>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                  <p className=\"mb-0\">{p.size}</p>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div\r\n                        className=\"tab-pane\"\r\n                        id=\"nav-mission\"\r\n                        role=\"tabpanel\"\r\n                        aria-labelledby=\"nav-mission-tab\"\r\n                      >\r\n                        <div className=\"d-flex\">\r\n                          <img\r\n                            src=\"img/avatar.jpg\"\r\n                            className=\"img-fluid rounded-circle p-3\"\r\n                            style={{ width: \"100px\", height: \"100px\" }}\r\n                            alt=\"\"\r\n                          />\r\n                          <div className>\r\n                            <p className=\"mb-2\" style={{ fontSize: \"14px\" }}>\r\n                              April 12, 2024\r\n                            </p>\r\n                            <div className=\"d-flex justify-content-between\">\r\n                              <h5>Jason Smith</h5>\r\n                              <div className=\"d-flex mb-3\">\r\n                                <i className=\"fa fa-star \" />\r\n                                <i className=\"fa fa-star \" />\r\n                                <i className=\"fa fa-star \" />\r\n                                <i className=\"fa fa-star \" />\r\n                                <i className=\"fa fa-star\" />\r\n                              </div>\r\n                            </div>\r\n                            <p>\r\n                              The generated Lorem Ipsum is therefore always free\r\n                              from repetition injected humour, or\r\n                              non-characteristic words etc. Susp endisse\r\n                              ultricies nisi vel quam suscipit{\" \"}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"d-flex\">\r\n                          <img\r\n                            src=\"img/avatar.jpg\"\r\n                            className=\"img-fluid rounded-circle p-3\"\r\n                            style={{ width: \"100px\", height: \"100px\" }}\r\n                            alt=\"\"\r\n                          />\r\n                          <div className>\r\n                            <p className=\"mb-2\" style={{ fontSize: \"14px\" }}>\r\n                              April 12, 2024\r\n                            </p>\r\n                            <div className=\"d-flex justify-content-between\">\r\n                              <h5>Sam Peters</h5>\r\n                              <div className=\"d-flex mb-3\">\r\n                                <i className=\"fa fa-star \" />\r\n                                <i className=\"fa fa-star \" />\r\n                                <i className=\"fa fa-star \" />\r\n                                <i className=\"fa fa-star\" />\r\n                                <i className=\"fa fa-star\" />\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"tab-pane\" id=\"nav-vision\" role=\"tabpanel\">\r\n                        <p className=\"text-dark\">\r\n                          Tempor erat elitr rebum at clita. Diam dolor diam\r\n                          ipsum et tempor sit. Aliqu diam amet diam et eos\r\n                          labore. 3\r\n                        </p>\r\n                        <p className=\"mb-0\">\r\n                          Diam dolor diam ipsum et tempor sit. Aliqu diam amet\r\n                          diam et eos labore. Clita erat ipsum et lorem et sit\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <form action=\"#\">\r\n                    <h4 className=\"mb-5 fw-bold\">Đánh giá của bạn</h4>\r\n                    <div className=\"row g-4\">\r\n                      <div className=\"col-lg-6\">\r\n                        <div className=\"border-bottom rounded\">\r\n                          <input\r\n                            type=\"text\"\r\n                            className=\"form-control border-0 me-4\"\r\n                            placeholder=\"Tên của bạn *\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-6\">\r\n                        <div className=\"border-bottom rounded\">\r\n                          <input\r\n                            type=\"email\"\r\n                            className=\"form-control border-0\"\r\n                            placeholder=\"Email *\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-12\">\r\n                        <div className=\"border-bottom rounded my-4\">\r\n                          <textarea\r\n                            name\r\n                            id\r\n                            className=\"form-control border-0\"\r\n                            cols={30}\r\n                            rows={8}\r\n                            placeholder=\"Đánh giá của bạn *\"\r\n                            spellCheck=\"false\"\r\n                            defaultValue={\"\"}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-12\">\r\n                        <div className=\"d-flex justify-content-between py-3 mb-5\">\r\n                          <div className=\"d-flex align-items-center\">\r\n                            <p className=\"mb-0 me-3\">Đánh giá:</p>\r\n                            <div\r\n                              className=\"d-flex align-items-center\"\r\n                              style={{ fontSize: \"12px\" }}\r\n                            >\r\n                              <i className=\"fa fa-star text-muted\" />\r\n                              <i className=\"fa fa-star\" />\r\n                              <i className=\"fa fa-star\" />\r\n                              <i className=\"fa fa-star\" />\r\n                              <i className=\"fa fa-star\" />\r\n                            </div>\r\n                          </div>\r\n                          <Link\r\n                            to=\"#\"\r\n                            className=\"btn border border-secondary text-primary rounded-pill px-4 \"\r\n                          >\r\n                            {\" \"}\r\n                            Gửi đánh giá\r\n                          </Link>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-lg-4 col-xl-3\">\r\n                <div className=\"row g-4 fruite\">\r\n                  <div className=\"col-lg-12\">\r\n                    <div className=\"input-group w-100 mx-auto d-flex mb-4\">\r\n                      <input\r\n                        type=\"search\"\r\n                        className=\"form-control p-3\"\r\n                        aria-describedby=\"search-icon-1\"\r\n                      />\r\n                      <span id=\"search-icon-1\" className=\"input-group-text p-3\">\r\n                        <i className=\"fa fa-search\" />\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"mb-4\">\r\n                      <h4>\r\n                        <FormattedMessage id=\"text.categories\" />\r\n                      </h4>\r\n                      <ul className=\"list-unstyled fruite-categorie\">\r\n                        {this.state.categories &&\r\n                          this.state.categories.map((item, index) => (\r\n                            <li key={index}>\r\n                              <div className=\"d-flex justify-content-between fruite-name\">\r\n                                <Link to=\"#\">{item.name}</Link>\r\n                              </div>\r\n                            </li>\r\n                          ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-lg-12\">\r\n                    <h4 className=\"mb-4\">\r\n                      <FormattedMessage id=\"text.outstanding_product\" />\r\n                    </h4>\r\n                    {this.state.listProduct &&\r\n                      this.state.listProduct.slice(0, 5).map((item, index) => (\r\n                        <div\r\n                          key={index}\r\n                          className=\"d-flex align-items-center justify-content-start\"\r\n                        >\r\n                          <div\r\n                            className=\"rounded\"\r\n                            style={{ width: \"100px\", height: \"100px\" }}\r\n                          >\r\n                            <img\r\n                              style={{ width: \"80px\", height: \"80px\" }}\r\n                              src={\"../\" + item.Images[0].img}\r\n                              className=\"img-fluid rounded\"\r\n                              alt=\"Image\"\r\n                            />\r\n                          </div>\r\n                          <div>\r\n                            <Link\r\n                              to={`/product-detail/${item.id}`}\r\n                              className=\"mb-2\"\r\n                            >\r\n                              {item.name}\r\n                            </Link>\r\n                            <div className=\"d-flex mb-2\">\r\n                              <i className=\"fa fa-star \" />\r\n                              <i className=\"fa fa-star \" />\r\n                              <i className=\"fa fa-star \" />\r\n                              <i className=\"fa fa-star \" />\r\n                              <i className=\"fa fa-star\" />\r\n                            </div>\r\n                            <div className=\"d-flex mb-2\">\r\n                              <h5 className=\"fw-bold me-2\">\r\n                                {item.price} <span>vnđ</span>\r\n                              </h5>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Single Product End */}\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addCartSuccess: (carts) => {\r\n      dispatch(actions.addCartSuccess(carts));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail);\r\n"]},"metadata":{},"sourceType":"module"}