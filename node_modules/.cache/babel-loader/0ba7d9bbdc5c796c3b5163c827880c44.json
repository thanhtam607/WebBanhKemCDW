{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import*as actions from\"../../../store/actions\";import{userLogin}from\"../../../services/userService\";import{getAllCartsByIdUser}from\"../../../services/cartService\";import{FormattedMessage}from\"react-intl\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleChangeInput=function(value,type){_this.setState(_defineProperty({},type,value));};_this.handleSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$state,email,password,res,resCart;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,email=_this$state.email,password=_this$state.password;if(!(!email||!password)){_context.next=5;break;}alert(\"Vui lòng nhập email và mật khẩu\");_context.next=17;break;case 5:_context.next=7;return userLogin(email,password);case 7:res=_context.sent;if(!(res&&res.errCode===0)){_context.next=16;break;}_context.next=11;return getAllCartsByIdUser(res.data.id);case 11:resCart=_context.sent;_this.props.userLoginSuccess(res.data,resCart.data);_this.props.history.push(\"/\");_context.next=17;break;case 16:alert(\"Đăng nhập thất bại\");case 17:case\"end\":return _context.stop();}}},_callee);}));_this.state={email:\"\",password:\"\"};return _this;}// handle onChange value and type input\n_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"container-xxl\",children:/*#__PURE__*/_jsx(\"div\",{className:\"authentication-wrapper authentication-basic container-p-y\",children:/*#__PURE__*/_jsx(\"div\",{className:\"authentication-inner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"app-brand justify-content-center\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"app-brand-link gap-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"app-brand-text demo text-primary-cake fw-bolder\",children:\"Peace Bakery\"})})}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-2 text-black\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"login.login\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"formAuthentication\",className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"email\",name:\"email-username\",placeholder:\"Enter your email or username\",autoFocus:true,value:this.state.email,onChange:function onChange(e){return _this2.handleChangeInput(e.target.value,\"email\");}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 form-password-toggle\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"password\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"login.password\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"auth-forgot-password-basic.html\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"login.forgot_password\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group input-group-merge\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"form-control\",name:\"password\",placeholder:\"\\xB7\\xB7\\xB7\\xB7\\xB7\\xB7\\xB7\\xB7\\xB7\\xB7\\xB7\\xB7\",\"aria-describedby\":\"password\",value:this.state.password,onChange:function onChange(e){return _this2.handleChangeInput(e.target.value,\"password\");}}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text cursor-pointer\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-hide\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"remember-me\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-check-label\",htmlFor:\"remember-me\",children:[\" \",\"Nh\\u1EDB m\\u1EADt kh\\u1EA9u\",\" \"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary-cake text-white w-100\",onClick:function onClick(){return _this2.handleSubmit();},children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"login.login\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"login.text_signin\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-cake\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"login.signin\"})})})]})]})})})})});}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){return{};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{userLoginSuccess:function userLoginSuccess(userInfo,carts){return dispatch(actions.userLoginSuccess(userInfo,carts));}};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["D:/Documents/Frontend-React.JS/src/containers/User/Login/Login.js"],"names":["React","Component","connect","actions","userLogin","getAllCartsByIdUser","FormattedMessage","Login","props","handleChangeInput","value","type","setState","handleSubmit","state","email","password","alert","res","errCode","data","id","resCart","userLoginSuccess","history","push","e","target","mapStateToProps","mapDispatchToProps","dispatch","userInfo","carts"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../store/actions\";\r\nimport { userLogin } from \"../../../services/userService\";\r\nimport { getAllCartsByIdUser } from \"../../../services/cartService\";\r\nimport { FormattedMessage } from \"react-intl\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n  }\r\n\r\n  // handle onChange value and type input\r\n  handleChangeInput = (value, type) => {\r\n    this.setState({\r\n      [type]: value,\r\n    });\r\n  };\r\n\r\n  // handle submit form\r\n  handleSubmit = async () => {\r\n    const { email, password } = this.state;\r\n    if (!email || !password) {\r\n      alert(\"Vui lòng nhập email và mật khẩu\");\r\n    } else {\r\n      const res = await userLogin(email, password);\r\n      if (res && res.errCode === 0) {\r\n        // get all carts by id user\r\n        const resCart = await getAllCartsByIdUser(res.data.id);\r\n        this.props.userLoginSuccess(res.data, resCart.data);\r\n\r\n        this.props.history.push(\"/\");\r\n      } else {\r\n        alert(\"Đăng nhập thất bại\");\r\n      }\r\n    }\r\n  };\r\n\r\n  componentDidMount() {}\r\n  render() {\r\n    return (\r\n      <div className=\"container-xxl\">\r\n        <div className=\"authentication-wrapper authentication-basic container-p-y\">\r\n          <div className=\"authentication-inner\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <div className=\"app-brand justify-content-center\">\r\n                  <a href=\"/\" className=\"app-brand-link gap-2\">\r\n                    <span className=\"app-brand-text demo text-primary-cake fw-bolder\">\r\n                      Peace Bakery\r\n                    </span>\r\n                  </a>\r\n                </div>\r\n\r\n                <h4 className=\"mb-2 text-black\">\r\n                  <FormattedMessage id=\"login.login\" />\r\n                </h4>\r\n\r\n                <div id=\"formAuthentication\" className=\"mb-3\">\r\n                  <div className=\"mb-3\">\r\n                    <label htmlFor=\"email\" className=\"form-label\">\r\n                      Email\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"email\"\r\n                      name=\"email-username\"\r\n                      placeholder=\"Enter your email or username\"\r\n                      autoFocus\r\n                      value={this.state.email}\r\n                      onChange={(e) =>\r\n                        this.handleChangeInput(e.target.value, \"email\")\r\n                      }\r\n                    />\r\n                  </div>\r\n                  <div className=\"mb-3 form-password-toggle\">\r\n                    <div className=\"d-flex justify-content-between\">\r\n                      <label className=\"form-label\" htmlFor=\"password\">\r\n                        <FormattedMessage id=\"login.password\" />\r\n                      </label>\r\n                      <a href=\"auth-forgot-password-basic.html\">\r\n                        <small>\r\n                          <FormattedMessage id=\"login.forgot_password\" />\r\n                        </small>\r\n                      </a>\r\n                    </div>\r\n                    <div className=\"input-group input-group-merge\">\r\n                      <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        className=\"form-control\"\r\n                        name=\"password\"\r\n                        placeholder=\"&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;\"\r\n                        aria-describedby=\"password\"\r\n                        value={this.state.password}\r\n                        onChange={(e) =>\r\n                          this.handleChangeInput(e.target.value, \"password\")\r\n                        }\r\n                      />\r\n                      <span className=\"input-group-text cursor-pointer\">\r\n                        <i className=\"bx bx-hide\"></i>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <div className=\"form-check\">\r\n                      <input\r\n                        className=\"form-check-input\"\r\n                        type=\"checkbox\"\r\n                        id=\"remember-me\"\r\n                      />\r\n                      <label className=\"form-check-label\" htmlFor=\"remember-me\">\r\n                        {\" \"}\r\n                        Nhớ mật khẩu{\" \"}\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <button\r\n                      className=\"btn btn-primary-cake text-white w-100\"\r\n                      onClick={() => this.handleSubmit()}\r\n                    >\r\n                      <FormattedMessage id=\"login.login\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <p className=\"text-center\">\r\n                  <span>\r\n                    <FormattedMessage id=\"login.text_signin\" />\r\n                  </span>\r\n                  <a href=\"/register\">\r\n                    <span className=\"text-primary-cake\">\r\n                      <FormattedMessage id=\"login.signin\" />\r\n                    </span>\r\n                  </a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    userLoginSuccess: (userInfo, carts) =>\r\n      dispatch(actions.userLoginSuccess(userInfo, carts)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"]},"metadata":{},"sourceType":"module"}