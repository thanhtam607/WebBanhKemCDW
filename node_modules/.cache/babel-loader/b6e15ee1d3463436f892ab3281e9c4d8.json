{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Documents/Frontend-React.JS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{addCart,getAllCartsByIdUser}from\"../../services/cartService\";import\"./Product.scss\";import*as actions from\"../../store/actions\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=/*#__PURE__*/function(_Component){_inherits(Product,_Component);var _super=_createSuper(Product);function Product(props){var _this;_classCallCheck(this,Product);_this=_super.call(this,props);_this.handleAddToCart=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var product,res,resCart;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.props.user.isLoggedIn){_context.next=2;break;}return _context.abrupt(\"return\");case 2:product=_this.props.product;_context.next=5;return addCart(_this.props.user.userInfo.id,product.id,1);case 5:res=_context.sent;if(!(res.errCode===0)){_context.next=13;break;}_context.next=9;return getAllCartsByIdUser(_this.props.user.userInfo.id);case 9:resCart=_context.sent;_this.props.addCartSuccess(resCart.data);_context.next=14;break;case 13:alert(\"Add to cart failed\");case 14:case\"end\":return _context.stop();}}},_callee);}));_this.state={};return _this;}_createClass(Product,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;var product=this.props.product;return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded position-relative fruite-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fruite-img\",children:/*#__PURE__*/_jsx(\"img\",{src:product.Images[0].img,style:{height:\"270px\"},className:\"img-fluid w-100 rounded-top\",alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white bg-secondary px-3 py-1 rounded position-absolute\",style:{top:\"10px\",left:\"10px\"},children:product.category.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border border-secondary border-top-0 rounded-bottom product-name\",children:[/*#__PURE__*/_jsx(Link,{className:\"text-center \",to:\"/product-detail/\".concat(product.id),children:/*#__PURE__*/_jsx(\"h4\",{children:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between flex-lg-wrap\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-dark fs-5 fw-bold mb-0\",children:[product.price,\" \",/*#__PURE__*/_jsx(\"span\",{children:\"vn\\u0111\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this2.handleAddToCart();},className:\"btn border border-secondary rounded-pill px-3 text-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-shopping-bag me-2 text-primary-cake\"}),\" \"]})]})]})]});}}]);return Product;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addCartSuccess:function addCartSuccess(carts){dispatch(actions.addCartSuccess(carts));}};};export default connect(mapStateToProps,mapDispatchToProps)(Product);","map":{"version":3,"sources":["D:/Documents/Frontend-React.JS/src/components/Product/Product.js"],"names":["React","Component","connect","addCart","getAllCartsByIdUser","actions","Link","Product","props","handleAddToCart","user","isLoggedIn","product","userInfo","id","res","errCode","resCart","addCartSuccess","data","alert","state","Images","img","height","top","left","category","name","price","mapStateToProps","mapDispatchToProps","dispatch","carts"],"mappings":"22BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,CAAkBC,mBAAlB,KAA6C,4BAA7C,CACA,MAAO,gBAAP,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,qBAAzB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,2FACMC,CAAAA,O,kGACJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EADiB,MAKnBC,eALmB,sEAKD,8JACX,MAAKD,KAAL,CAAWE,IAAX,CAAgBC,UADL,iEAKRC,OALQ,CAKI,MAAKJ,KALT,CAKRI,OALQ,uBAMET,CAAAA,OAAO,CAAC,MAAKK,KAAL,CAAWE,IAAX,CAAgBG,QAAhB,CAAyBC,EAA1B,CAA8BF,OAAO,CAACE,EAAtC,CAA0C,CAA1C,CANT,QAMVC,GANU,oBAOZA,GAAG,CAACC,OAAJ,GAAgB,CAPJ,iDAQQZ,CAAAA,mBAAmB,CAAC,MAAKI,KAAL,CAAWE,IAAX,CAAgBG,QAAhB,CAAyBC,EAA1B,CAR3B,QAQRG,OARQ,eASd,MAAKT,KAAL,CAAWU,cAAX,CAA0BD,OAAO,CAACE,IAAlC,EATc,+BAWdC,KAAK,CAAC,oBAAD,CAAL,CAXc,uDALC,GAEjB,MAAKC,KAAL,CAAa,EAAb,CAFiB,aAGlB,C,qDAiBD,4BAAoB,CAAE,C,sBACtB,iBAAS,iBACP,GAAMT,CAAAA,OAAO,CAAG,KAAKJ,KAAL,CAAWI,OAA3B,CACA,mBACE,aAAK,SAAS,CAAC,uCAAf,wBACE,YAAK,SAAS,CAAC,YAAf,uBACE,YACE,GAAG,CAAEA,OAAO,CAACU,MAAR,CAAe,CAAf,EAAkBC,GADzB,CAEE,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAV,CAFT,CAGE,SAAS,CAAC,6BAHZ,CAIE,GAAG,CAAC,EAJN,EADF,EADF,cASE,YACE,SAAS,CAAC,6DADZ,CAEE,KAAK,CAAE,CAAEC,GAAG,CAAE,MAAP,CAAeC,IAAI,CAAE,MAArB,CAFT,UAIGd,OAAO,CAACe,QAAR,CAAiBC,IAJpB,EATF,cAeE,aAAK,SAAS,CAAC,sEAAf,wBACE,KAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,2BAAqBhB,OAAO,CAACE,EAA7B,CAAjC,uBACE,oBAAKF,OAAO,CAACgB,IAAb,EADF,EADF,cAKE,aAAK,SAAS,CAAC,6CAAf,wBACE,WAAG,SAAS,CAAC,6BAAb,WACGhB,OAAO,CAACiB,KADX,kBACkB,kCADlB,GADF,cAIE,aACE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACpB,eAAL,EAAN,EADX,CAEE,SAAS,CAAC,4DAFZ,wBAIE,UAAG,SAAS,CAAC,2CAAb,EAJF,CAIgE,GAJhE,GAJF,GALF,GAfF,GADF,CAmCD,C,qBA3DmBR,S,EA8DtB,GAAM6B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACT,KAAD,CAAW,CACjC,MAAO,CACLX,IAAI,CAAEW,KAAK,CAACX,IADP,CAAP,CAGD,CAJD,CAMA,GAAMqB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACvC,MAAO,CACLd,cAAc,CAAE,wBAACe,KAAD,CAAW,CACzBD,QAAQ,CAAC3B,OAAO,CAACa,cAAR,CAAuBe,KAAvB,CAAD,CAAR,CACD,CAHI,CAAP,CAKD,CAND,CAQA,cAAe/B,CAAAA,OAAO,CAAC4B,eAAD,CAAkBC,kBAAlB,CAAP,CAA6CxB,OAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addCart, getAllCartsByIdUser } from \"../../services/cartService\";\r\nimport \"./Product.scss\";\r\nimport * as actions from \"../../store/actions\";\r\nimport { Link } from \"react-router-dom\";\r\nclass Product extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  handleAddToCart = async () => {\r\n    if (!this.props.user.isLoggedIn) {\r\n      return;\r\n    }\r\n\r\n    const { product } = this.props;\r\n    const res = await addCart(this.props.user.userInfo.id, product.id, 1);\r\n    if (res.errCode === 0) {\r\n      const resCart = await getAllCartsByIdUser(this.props.user.userInfo.id);\r\n      this.props.addCartSuccess(resCart.data);\r\n    } else {\r\n      alert(\"Add to cart failed\");\r\n    }\r\n  };\r\n\r\n  componentDidMount() {}\r\n  render() {\r\n    const product = this.props.product;\r\n    return (\r\n      <div className=\"rounded position-relative fruite-item\">\r\n        <div className=\"fruite-img\">\r\n          <img\r\n            src={product.Images[0].img}\r\n            style={{ height: \"270px\" }}\r\n            className=\"img-fluid w-100 rounded-top\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"text-white bg-secondary px-3 py-1 rounded position-absolute\"\r\n          style={{ top: \"10px\", left: \"10px\" }}\r\n        >\r\n          {product.category.name}\r\n        </div>\r\n        <div className=\"p-4 border border-secondary border-top-0 rounded-bottom product-name\">\r\n          <Link className=\"text-center \" to={`/product-detail/${product.id}`}>\r\n            <h4>{product.name}</h4>\r\n          </Link>\r\n\r\n          <div className=\"d-flex justify-content-between flex-lg-wrap\">\r\n            <p className=\"text-dark fs-5 fw-bold mb-0\">\r\n              {product.price} <span>vnÄ‘</span>\r\n            </p>\r\n            <div\r\n              onClick={() => this.handleAddToCart()}\r\n              className=\"btn border border-secondary rounded-pill px-3 text-primary\"\r\n            >\r\n              <i className=\"fa fa-shopping-bag me-2 text-primary-cake\"></i>{\" \"}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addCartSuccess: (carts) => {\r\n      dispatch(actions.addCartSuccess(carts));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\r\n"]},"metadata":{},"sourceType":"module"}